<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How It Works - JTF News</title>

    <!-- Favicon - adapts to light/dark mode -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/png/icon-square-32.png" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/png/icon-square-dark-32.png" media="(prefers-color-scheme: dark)">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/png/icon-square-16.png" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/png/icon-square-dark-16.png" media="(prefers-color-scheme: dark)">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/png/icon-square-dark-256.png">
    <link rel="icon" type="image/svg+xml" href="assets/icon-square.svg" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/svg+xml" href="assets/icon-square-dark.svg" media="(prefers-color-scheme: dark)">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn how JTF News verifies facts using 2+ independent sources. Understand our source ratings, AI fact extraction, and editorial philosophy.">
    <meta name="keywords" content="fact verification, news verification process, source ratings, unbiased news methodology, fact checking">
    <meta name="author" content="JTF News">
    <link rel="canonical" href="https://larryseyer.github.io/jtfnews/how-it-works.html">

    <!-- OpenGraph Tags -->
    <meta property="og:title" content="How JTF News Works">
    <meta property="og:description" content="Every fact requires 2+ independent sources. Learn our verification process, source ratings, and editorial philosophy.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://larryseyer.github.io/jtfnews/how-it-works.html">
    <meta property="og:site_name" content="JTF News">
    <meta property="og:image" content="https://larryseyer.github.io/jtfnews/assets/png/banner-twitter-1500x500.png">
    <meta property="og:image:width" content="1500">
    <meta property="og:image:height" content="500">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="How JTF News Works">
    <meta name="twitter:description" content="Every fact requires 2+ independent sources. Learn our verification process and editorial philosophy.">
    <meta name="twitter:image" content="https://larryseyer.github.io/jtfnews/assets/png/banner-twitter-1500x500.png">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        h1 {
            color: #d4af37;
            margin-bottom: 10px;
        }

        .logo { height: 40px; margin-bottom: 20px; }
        .logo img { height: 100%; width: auto; }

        h2 {
            color: #94a3b8;
            margin-top: 40px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        p {
            margin-bottom: 15px;
            color: #cbd5e1;
        }

        a {
            color: #60a5fa;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 30px;
            color: #64748b;
            text-decoration: none;
            font-size: 14px;
        }

        .back-link:hover {
            color: #94a3b8;
        }

        /* ========== Demo Display Section ========== */
        .demo-section {
            background: linear-gradient(135deg, #1a365d 0%, #0f172a 100%);
            border-radius: 16px;
            padding: 60px 40px 80px;
            margin: 30px 0;
            position: relative;
            overflow: visible;
        }

        .demo-label {
            position: absolute;
            top: 15px;
            left: 20px;
            font-size: 11px;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Lower Third - EXACT copy of production styles */
        .lower-third {
            position: relative;
            max-width: 100%;
            background: rgba(15, 23, 42, 0.75);
            backdrop-filter: blur(40px) saturate(180%);
            -webkit-backdrop-filter: blur(40px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            box-shadow:
                0 12px 40px rgba(0, 0, 0, 0.4),
                0 4px 12px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .brand-tab {
            position: absolute;
            top: -52px;
            left: 0;
            background: linear-gradient(135deg,
                rgba(212, 175, 55, 0.95) 0%,
                rgba(170, 135, 35, 0.9) 100%);
            padding: 12px 28px;
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
            letter-spacing: 4px;
            border-radius: 10px 10px 0 0;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-bottom: none;
            box-shadow:
                0 -4px 20px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .source-bar {
            background: linear-gradient(135deg,
                rgba(30, 64, 175, 0.7) 0%,
                rgba(23, 37, 84, 0.8) 100%);
            padding: 14px 28px;
            font-size: 14px;
            font-weight: 600;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .fact-text {
            padding: 24px 32px;
            font-size: 24px;
            font-weight: 400;
            color: white;
            line-height: 1.45;
        }

        /* ========== Hover Tooltips ========== */
        .hover-zone {
            position: relative;
            cursor: help;
            transition: all 0.2s ease;
        }

        .hover-zone:hover {
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.5);
        }

        .tooltip {
            position: absolute;
            background: rgba(15, 23, 42, 0.95);
            border: 2px solid #22c55e;
            border-radius: 10px;
            padding: 14px 18px;
            font-size: 13px;
            color: #e2e8f0;
            max-width: 280px;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.25s ease, visibility 0.25s ease, transform 0.25s ease;
            z-index: 100;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
            pointer-events: none;
        }

        .tooltip strong {
            color: #22c55e;
            display: block;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .hover-zone:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        /* Tooltip positions */
        .tooltip-right {
            left: calc(100% + 15px);
            top: 50%;
            transform: translateY(-50%) translateX(-10px);
        }

        .hover-zone:hover .tooltip-right {
            transform: translateY(-50%) translateX(0);
        }

        .tooltip-left {
            right: calc(100% + 15px);
            top: 50%;
            transform: translateY(-50%) translateX(10px);
        }

        .hover-zone:hover .tooltip-left {
            transform: translateY(-50%) translateX(0);
        }

        .tooltip-bottom {
            top: calc(100% + 15px);
            left: 50%;
            transform: translateX(-50%) translateY(-10px);
        }

        .hover-zone:hover .tooltip-bottom {
            transform: translateX(-50%) translateY(0);
        }

        /* Arrow indicators */
        .tooltip::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border: 8px solid transparent;
        }

        .tooltip-right::before {
            left: -16px;
            top: 50%;
            transform: translateY(-50%);
            border-right-color: #22c55e;
        }

        .tooltip-left::before {
            right: -16px;
            top: 50%;
            transform: translateY(-50%);
            border-left-color: #22c55e;
        }

        .tooltip-bottom::before {
            top: -16px;
            left: 50%;
            transform: translateX(-50%);
            border-bottom-color: #22c55e;
        }

        /* Hover hint */
        .hover-hint {
            text-align: center;
            font-size: 12px;
            color: #64748b;
            margin-top: 15px;
        }

        .hover-hint span {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 20px;
            color: #22c55e;
        }

        /* Mobile: show inline explanations instead */
        @media (max-width: 768px) {
            .tooltip {
                display: none !important;
            }
            .hover-zone:hover {
                box-shadow: none;
            }
            .hover-hint {
                display: none;
            }
            .mobile-explanations {
                display: block;
            }
        }

        @media (min-width: 769px) {
            .mobile-explanations {
                display: none;
            }
        }

        .mobile-explanations {
            margin-top: 20px;
            padding: 15px;
            background: rgba(30, 41, 59, 0.6);
            border-radius: 10px;
        }

        .mobile-explanations p {
            font-size: 13px;
            margin-bottom: 10px;
            padding-left: 15px;
            border-left: 3px solid #22c55e;
        }

        .mobile-explanations p:last-child {
            margin-bottom: 0;
        }

        .mobile-explanations strong {
            color: #22c55e;
        }

        /* ========== Explanation Cards ========== */
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
        }

        .card h3 {
            color: #d4af37;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .card p {
            font-size: 14px;
            color: #94a3b8;
            margin-bottom: 0;
        }

        /* Rating examples */
        .rating-example {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .rating-example:last-child {
            border-bottom: none;
        }

        .rating-badge {
            font-family: monospace;
            background: rgba(30, 64, 175, 0.5);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 13px;
            color: #e2e8f0;
            white-space: nowrap;
        }

        .rating-desc {
            font-size: 13px;
            color: #94a3b8;
        }

        /* Background image section */
        .bg-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .bg-sample {
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: #64748b;
            text-transform: uppercase;
        }

        /* Philosophy section */
        .philosophy {
            background: rgba(212, 175, 55, 0.1);
            border-left: 4px solid #d4af37;
            padding: 20px;
            border-radius: 0 8px 8px 0;
            margin: 20px 0;
        }

        .philosophy p {
            color: #e2e8f0;
            font-size: 15px;
            margin-bottom: 10px;
        }

        .philosophy p:last-child {
            margin-bottom: 0;
        }

        .rule-list {
            margin: 15px 0;
            padding-left: 20px;
        }

        .rule-list li {
            color: #94a3b8;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .rule-list li strong {
            color: #e2e8f0;
        }

        /* CTA */
        .cta-section {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .cta-button {
            display: inline-block;
            padding: 12px 24px;
            background: linear-gradient(135deg, #d4af37 0%, #aa8723 100%);
            color: #1a1a1a;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 10px;
        }

        .cta-button:hover {
            opacity: 0.9;
        }

        .cta-button.secondary {
            background: #1e40af;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">&larr; Back to JTF News</a>

        <div class="logo">
            <a href="index.html"><img src="assets/logo-horizontal-dark.svg" alt="JTF News"></a>
        </div>

        <h1>How JTF News Works</h1>
        <p>Understanding what you see on screen and why it matters.</p>

        <!-- Live Demo with Annotations -->
        <div class="demo-section">
            <span class="demo-label" id="demo-label">Live Story</span>

            <div class="lower-third">
                <div class="brand-tab hover-zone">
                    JTF NEWS
                    <div class="tooltip tooltip-right">
                        <strong>Brand Identifier</strong>
                        "Just The Facts News" &mdash; our commitment to reporting only verified, factual information without editorial spin.
                    </div>
                </div>
                <div class="source-bar">
                    <span class="hover-zone" style="display: inline-block;" id="demo-sources">
                        Loading...
                        <div class="tooltip tooltip-bottom">
                            <strong>Verified Sources</strong>
                            Every fact requires 2+ independent sources. Format: Source Accuracy|Bias (both 0-10). Higher is better. An asterisk (*) means limited data.
                        </div>
                    </span>
                    <span class="hover-zone" style="display: inline-block; margin-left: 10px;" id="demo-time">

                        <div class="tooltip tooltip-left">
                            <strong>Time Verified</strong>
                            When this fact was confirmed by multiple sources. Fresh news is prioritized in the display rotation.
                        </div>
                    </span>
                </div>
                <div class="fact-text hover-zone" id="demo-fact">
                    Loading latest verified fact...
                    <div class="tooltip tooltip-bottom">
                        <strong>The Fact</strong>
                        Pure, verified information. No opinions, adjectives, speculation, or emotional language. Just what happened, confirmed by multiple independent sources.
                    </div>
                </div>
            </div>

            <p class="hover-hint"><span>Hover over elements to learn more</span></p>

            <!-- Mobile fallback explanations -->
            <div class="mobile-explanations">
                <p><strong>JTF NEWS</strong> &mdash; Brand identifier for "Just The Facts News"</p>
                <p><strong>Source scores</strong> &mdash; Format: Source Accuracy|Bias (both 0-10, higher is better)</p>
                <p><strong>Time</strong> &mdash; When this fact was confirmed by multiple sources</p>
                <p><strong>The fact</strong> &mdash; No opinions, adjectives, or speculation. Just verified information.</p>
            </div>
        </div>

        <h2>The Verification Process</h2>
        <p>Every fact displayed on JTF News must be independently verified by <strong>at least 2 unrelated sources</strong> before broadcast. Sources are considered "unrelated" when they have different ownership structures and no significant shared institutional investors.</p>

        <div class="card-grid">
            <div class="card">
                <h3>Step 1: Collection</h3>
                <p>Headlines are gathered from 30+ news sources worldwide, including wire services, public broadcasters, and official government sources.</p>
            </div>
            <div class="card">
                <h3>Step 2: Extraction</h3>
                <p>AI extracts only verifiable facts from headlines, removing opinions, adjectives, speculation, and emotional language.</p>
            </div>
            <div class="card">
                <h3>Step 3: Verification</h3>
                <p>Facts wait in a queue until a second unrelated source reports the same information. Unverified facts expire after 24 hours.</p>
            </div>
            <div class="card">
                <h3>Step 4: Broadcast</h3>
                <p>Verified facts are spoken aloud and displayed with full source attribution, showing which outlets confirmed the information.</p>
            </div>
        </div>

        <h2>Understanding Source Scores</h2>
        <p>Each source displays two key scores on screen: <strong>Accuracy|Bias</strong> (both 0-10 scale). JTF News tracks four metrics in priority order:</p>

        <div class="card" style="margin-bottom: 20px;">
            <div class="rating-example">
                <span class="rating-badge">9.8|9.5</span>
                <span class="rating-desc"><strong>Compact format</strong> &mdash; Accuracy (9.8) and Bias (9.5) shown on-screen. Higher is better for both.</span>
            </div>
            <div class="rating-example">
                <span class="rating-badge">Reuters 9.8|9.5</span>
                <span class="rating-desc"><strong>With source name</strong> &mdash; As displayed in the lower-third during broadcast.</span>
            </div>
            <div class="rating-example">
                <span class="rating-badge">8.5*|7.2*</span>
                <span class="rating-desc"><strong>Cold start</strong> &mdash; Asterisk (*) indicates limited verification data. Scores will adjust as data accumulates.</span>
            </div>
        </div>

        <h3 style="color: #94a3b8; font-size: 16px; margin-bottom: 15px;">The Four Source Scores (Priority Order)</h3>
        <div class="card-grid">
            <div class="card">
                <h3>1. Accuracy</h3>
                <p>How often this source's facts are verified by other independent sources. Calculated as successful verifications / total attempts × 10.</p>
            </div>
            <div class="card">
                <h3>2. Bias</h3>
                <p>Editorial neutrality score. Higher means less detected political or ideological slant in reporting.</p>
            </div>
            <div class="card">
                <h3>3. Speed</h3>
                <p>How quickly this source reports verified facts relative to others. Faster sources break news sooner.</p>
            </div>
            <div class="card">
                <h3>4. Consensus</h3>
                <p>How often this source's reporting aligns with the majority of other verified sources on the same story.</p>
            </div>
        </div>

        <p style="margin-top: 15px; font-size: 14px; color: #64748b;">
            On-screen display shows Accuracy|Bias only. All four scores are available in the RSS feed and on this website. Numbers only, no labels &mdash; you interpret the data.
        </p>

        <h2>The Background Images</h2>
        <p>The rotating background images are seasonal nature photography &mdash; calm, peaceful scenes that don't compete with the news content. Images change automatically based on the current season.</p>

        <div class="bg-grid">
            <div class="bg-sample">Spring</div>
            <div class="bg-sample">Summer</div>
            <div class="bg-sample">Fall</div>
            <div class="bg-sample">Winter</div>
        </div>

        <p style="font-size: 14px; color: #64748b;">
            The visual design intentionally avoids the flashy graphics, urgent animations, and attention-grabbing elements common in traditional news broadcasts. Calm presentation for calm consumption.
        </p>

        <h2>Our Editorial Philosophy</h2>

        <div class="philosophy">
            <p><strong>Just The Facts.</strong> No opinions. No adjectives. No interpretation.</p>
            <p>JTF News exists because modern news often tells you how to feel about events rather than simply reporting what happened. We believe informed citizens can form their own opinions when given accurate, verified information.</p>
            <p style="margin-top: 10px;"><a href="whitepaper.html">Read the full whitepaper &rarr;</a></p>
        </div>

        <p>What we remove from every story:</p>
        <ul class="rule-list">
            <li><strong>Opinions</strong> &mdash; "Critics say..." or "Experts believe..." become facts only if we can verify who said what</li>
            <li><strong>Adjectives</strong> &mdash; "Devastating earthquake" becomes "Earthquake measuring 7.2 magnitude"</li>
            <li><strong>Speculation</strong> &mdash; "This could mean..." is removed entirely</li>
            <li><strong>Emotional language</strong> &mdash; "Shocking," "stunning," "historic" are editorial judgments, not facts</li>
            <li><strong>Unnamed sources</strong> &mdash; If we can't verify who said it, we don't report it</li>
        </ul>

        <h2>Source Diversity</h2>
        <p>JTF News monitors sources across ownership structures to avoid echo chambers:</p>

        <div class="card-grid">
            <div class="card">
                <h3>Wire Services</h3>
                <p>Reuters, AP, AFP &mdash; Original reporting distributed to other outlets</p>
            </div>
            <div class="card">
                <h3>Public Broadcasters</h3>
                <p>BBC, NPR, CBC, ABC Australia, Deutsche Welle, France 24</p>
            </div>
            <div class="card">
                <h3>Official Sources</h3>
                <p>White House, Congress.gov, Federal Register, Supreme Court, State Dept, Pentagon</p>
            </div>
            <div class="card">
                <h3>International</h3>
                <p>Al Jazeera, EFE, Irish Times, Straits Times, Times of India, and more</p>
            </div>
        </div>

        <h2>Source Ownership Disclosure</h2>
        <p>For each story, we disclose the top three owners of each cited source with their ownership percentages. You deserve to know who funds the information you receive.</p>

        <div class="card" style="margin-bottom: 20px;">
            <p style="margin-bottom: 15px;"><strong>Example disclosure:</strong></p>
            <div class="rating-example">
                <span class="rating-badge" style="background: rgba(212, 175, 55, 0.3);">Reuters</span>
                <span class="rating-desc">Thomson Reuters (Woodbridge 64.2%) &rarr; Vanguard (4.1%), BlackRock (3.2%)</span>
            </div>
            <div class="rating-example">
                <span class="rating-badge" style="background: rgba(212, 175, 55, 0.3);">Sky News</span>
                <span class="rating-desc">Comcast (100%) &rarr; Vanguard (8.1%), BlackRock (6.8%), State Street (4.2%)</span>
            </div>
            <div class="rating-example">
                <span class="rating-badge" style="background: rgba(212, 175, 55, 0.3);">The Independent</span>
                <span class="rating-desc">Lebedev (41%), Saudi investor (30%), Shaw (26%)</span>
            </div>
        </div>

        <div class="philosophy">
            <p><strong>Why Ownership Matters</strong></p>
            <p>Two sources are only truly independent if they have different owners and different investors. Cross-ownership can create echo chambers disguised as verification. We make ownership visible so you can judge for yourself.</p>
        </div>

        <h3 style="color: #94a3b8; font-size: 16px; margin-top: 25px; margin-bottom: 15px;">Quarterly Ownership Review</h3>
        <p>Ownership structures change. Acquisitions happen. Shareholders shift. We review and verify all source ownership data every quarter. Updates are logged publicly on <a href="https://github.com/larryseyer/jtfnews">GitHub</a>.</p>
        <p style="font-size: 14px; color: #64748b;">Stale data is dishonest data. We do not let it drift.</p>

        <h2>Corrections & Retractions</h2>
        <p>When a fact passes the two-source test but is later proven false:</p>
        <ul class="rule-list">
            <li><strong>Correction issued</strong> &mdash; Within the next update cycle (30 minutes or less)</li>
            <li><strong>Original marked</strong> &mdash; Never silently deleted; marked as corrected in the archive</li>
            <li><strong>Same prominence</strong> &mdash; Corrections receive the same airtime as the original</li>
            <li><strong>Public log</strong> &mdash; All corrections maintained on <a href="https://github.com/larryseyer/jtfnews">GitHub</a></li>
        </ul>
        <p style="margin-top: 15px; font-size: 14px; color: #64748b;">We do not bury mistakes. We name them.</p>

        <div class="cta-section">
            <p style="color: #94a3b8; margin-bottom: 20px;">JTF News is free, ad-free, and supported by viewers like you.</p>
            <a href="https://www.youtube.com/@JTFNewsLive" class="cta-button secondary">Watch Live</a>
            <a href="https://github.com/sponsors/larryseyer" class="cta-button">Support JTF News</a>
        </div>
    </div>

    <script>
        // Fetch live story for demo
        const STORIES_URL = './stories.json';
        const MONITOR_URL = './monitor.json';
        let lastKnownRefreshAt = null;

        // Cycle-sync refresh: check for new cycle and refresh page
        async function checkForCycleRefresh() {
            try {
                const response = await fetch(MONITOR_URL + '?t=' + Date.now());
                if (!response.ok) return;

                const data = await response.json();
                const currentRefreshAt = data.web_refresh_at;

                if (lastKnownRefreshAt === null) {
                    lastKnownRefreshAt = currentRefreshAt;
                    console.log('[Cycle Refresh] Initial timestamp:', currentRefreshAt);
                    return;
                }

                if (currentRefreshAt !== lastKnownRefreshAt) {
                    console.log('[Cycle Refresh] New cycle detected, refreshing...');
                    location.reload();
                }
            } catch (e) {
                // Silently fail
            }
        }

        // Start cycle refresh monitoring
        setInterval(checkForCycleRefresh, 30000);
        checkForCycleRefresh();

        function getTimeAgo(timestamp) {
            if (!timestamp) return '';
            const now = Date.now();
            const storyTime = new Date(timestamp).getTime();
            const diffMs = now - storyTime;
            const diffMinutes = Math.floor(diffMs / (1000 * 60));
            const diffHours = Math.floor(diffMs / (1000 * 60 * 60));

            if (diffMinutes < 5) return 'Just now';
            if (diffMinutes < 60) return diffMinutes + ' min ago';
            if (diffHours === 1) return '1 hour ago';
            if (diffHours < 24) return diffHours + ' hours ago';
            return 'Earlier today';
        }

        async function loadLiveStory() {
            const demoLabel = document.getElementById('demo-label');
            const demoSources = document.getElementById('demo-sources');
            const demoTime = document.getElementById('demo-time');
            const demoFact = document.getElementById('demo-fact');

            // Keep tooltips
            const sourcesTooltip = demoSources.querySelector('.tooltip');
            const timeTooltip = demoTime.querySelector('.tooltip');
            const factTooltip = demoFact.querySelector('.tooltip');

            try {
                const response = await fetch(STORIES_URL + '?t=' + Date.now());
                if (!response.ok) throw new Error('No stories');

                const data = await response.json();
                if (!data.stories || data.stories.length === 0) throw new Error('Empty');

                // Get the most recent story (first in array)
                const story = data.stories[0];

                // Update demo label to show it's live
                demoLabel.innerHTML = 'Live Story <span style="background: rgba(34,197,94,0.2); color: #22c55e; padding: 2px 8px; border-radius: 10px; font-size: 9px; margin-left: 8px;">REAL</span>';

                // Update sources (remove the time part if present)
                const sourceText = story.source || 'JTF News';
                demoSources.innerHTML = sourceText;
                demoSources.appendChild(sourcesTooltip);

                // Update time
                const timeAgo = getTimeAgo(story.timestamp);
                if (timeAgo) {
                    demoTime.innerHTML = '&middot; ' + timeAgo;
                    demoTime.appendChild(timeTooltip);
                }

                // Update fact
                demoFact.innerHTML = story.fact;
                demoFact.appendChild(factTooltip);

            } catch (error) {
                // Fallback to static example
                demoLabel.textContent = 'Example Display';
                demoSources.innerHTML = 'Reuters 9.8|9.5 · AP 9.6|9.4*';
                demoSources.appendChild(sourcesTooltip);
                demoTime.innerHTML = '&middot; 2 hours ago';
                demoTime.appendChild(timeTooltip);
                demoFact.innerHTML = 'The European Central Bank held interest rates at 2.75% at its February 2025 meeting.';
                demoFact.appendChild(factTooltip);
            }
        }

        // Load on page ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadLiveStory);
        } else {
            loadLiveStory();
        }
    </script>
</body>
</html>
